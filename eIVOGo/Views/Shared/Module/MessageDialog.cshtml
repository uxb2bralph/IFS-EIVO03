@using System.IO
@using System.Linq.Expressions

@using Model.Locale
@using Model.DataEntity
@using eIVOGo.Controllers
@using eIVOGo.Helper
@using Model.Models.ViewModel
@using eIVOGo.Models.ViewModel
@{

    ModelStateDictionary _modelState;
    ModelSource<InvoiceItem> models;
    QueryViewModel _model;

    _modelState = (ModelStateDictionary)ViewBag.ModelState;
    models = ((SampleController<InvoiceItem>)ViewContext.Controller).DataSource;
    _model = this.Model as QueryViewModel ?? ViewBag.ViewModel as QueryViewModel;

    String _dialogID = "message" + DateTime.Now.Ticks;

}

<div id="@(_dialogID)">

    @RenderBody()

    <script>
        $('#@(_dialogID)').dialog({
            //autoOpen: false,
            width: 'auto',
            resizable: true,
            //modal: true,
            title: "<div class='modal-title'><h4><i class='fa fa-clock-o'></i> @(_model?.ActionTitle ?? "訊息")</h4></div>",
            buttons: [
            ],
            close: function (event, ui) {
                $('#@(_dialogID)').remove();
            }
        });

        $(function () {

            $('#@(_dialogID) input:button.btnClose').on('click', function () {
                $('#@(_dialogID)').dialog("close");
            });

            $('#@(_dialogID)').find('input,select,textarea').attr('data-role', '@(_dialogID)');
        });
    </script>

</div>


